<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Arroost examples</title>
<link rel="stylesheet" href="/style.css" />
<style></style>

<noscript></noscript>

<h1>Arroost examples</h1>

<button onclick="shuffle()" class="primary">Shuffle examples</button>
<button onclick="generate()" id="generate">Generate examples html</button>

<script>
  const generateButton = document.getElementById("generate");

  const generate = async () => {
    const response = await fetch("examples.json");
    const examples = await response.json();

    const elements = [];

    for (const example of examples) {
      const { title, author, path } = example;
      const url = `media/${path}`;

      const element = `<section class="example"> 
	<h2>${title}</h2>
	<p>by ${author}</p>
	<video controls src="${url}"></video>
</section>`;
      elements.push(element);
    }

    const html = `<div class="examples">${elements.join("")}</div>`;

    copyToClipboard(html);
    generateButton.textContent = "Copied to clipboard";
    setTimeout(() => {
      generateButton.textContent = "Generate examples html";
    }, 1000);
  };

  const copyToClipboard = (text) => {
    const el = document.createElement("textarea");
    el.value = text;
    document.body.appendChild(el);
    el.select();
    document.execCommand("copy");
    document.body.removeChild(el);
  };

  const shuffle = () => {
    const elements = Array.from(document.querySelectorAll(".example"));
    shuffleArray(elements);
    const examples = document.querySelector(".examples");
    examples.innerHTML = "";
    for (const element of elements) {
      examples.append(element);
    }
  };

  // https://github.com/TodePond/Habitat/blob/1f4153571a4270d664732b85318b324c78e591ba/source/array.js
  const shuffleArray = (array) => {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  };
</script>

<!-- generated code below this point -->
<div class="examples">
  <section class="example">
    <h2>Noisy office</h2>
    <p>by Elliot Evans</p>
    <video controls src="media/noisy-office.mp4"></video>
  </section>
  <section class="example">
    <h2>Normalise sharing scrappy needles</h2>
    <p>by Ivan Reese</p>
    <video controls src="media/what-do-you-want.mp4"></video>
  </section>
  <section class="example">
    <h2>Talking to my beans</h2>
    <p>by Lu Wilson</p>
    <video controls src="media/talking-to-my-beans.mp4"></video>
  </section>
  <section class="example">
    <h2>Skyscraper</h2>
    <p>by Ivan Reese</p>
    <video controls src="media/skyscraper.mp4"></video>
  </section>
  <section class="example">
    <h2>Fish tank</h2>
    <p>by Shane Crowley</p>
    <video controls src="media/fish-tank.mp4"></video>
  </section>
  <section class="example">
    <h2>Click landing</h2>
    <p>by Lu Wilson</p>
    <video controls src="media/click-landing.mp4"></video>
  </section>
  <section class="example">
    <h2>Treads</h2>
    <p>by Lu Wilson</p>
    <video controls src="media/treads.mp4"></video>
  </section>
  <section class="example">
    <h2>Hum day</h2>
    <p>by Lu Wilson</p>
    <video controls src="media/hum-day.mp4"></video>
  </section>
  <section class="example">
    <h2>Perfect rhyme</h2>
    <p>by Lu Wilson</p>
    <video controls src="media/perfect-rhyme.mp4"></video>
  </section>
  <section class="example">
    <h2>Arroost!</h2>
    <p>by Avon</p>
    <video controls src="media/arroost.mp4"></video>
  </section>
  <section class="example">
    <h2>Lunchtime well spent</h2>
    <p>by Shane Crowley</p>
    <video controls src="media/lunch-time-well-spent.mp4"></video>
  </section>
  <section class="example">
    <h2>Hard day's work</h2>
    <p>by Shane Crowley</p>
    <video controls src="media/hard-days-work.mp4"></video>
  </section>
  <section class="example">
    <h2>Possibly the scrappiest fiddle</h2>
    <p>by Nonnullish</p>
    <video controls src="media/possibly-the-scrappiest-fiddle.mp4"></video>
  </section>
  <section class="example">
    <h2>Doesn't matter at all</h2>
    <p>by Lu Wilson</p>
    <video controls src="media/doesnt-matter-at-all.mp4"></video>
  </section>
  <section class="example">
    <h2>Feedback cycle</h2>
    <p>by Avon</p>
    <video controls src="media/feedback-cycle.mp4"></video>
  </section>
  <section class="example">
    <h2>Funky</h2>
    <p>by Alex McLean</p>
    <video controls src="media/funky.mp4"></video>
  </section>
</div>
